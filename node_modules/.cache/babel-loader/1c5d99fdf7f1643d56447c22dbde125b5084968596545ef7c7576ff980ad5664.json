{"ast":null,"code":"import React,{useState,useEffect}from'react';import Modal from'../common/Modal';import{UserGroupIcon,ShieldCheckIcon,PencilSquareIcon,TrashIcon,DocumentTextIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RoleModal=_ref=>{let{isOpen,onClose,role,onSave}=_ref;const[formData,setFormData]=useState({name:'',permissions:[]});useEffect(()=>{if(role){setFormData(role);}else{setFormData({name:'',permissions:[]});}},[role]);const handleSubmit=e=>{e.preventDefault();onSave(formData);};const handlePermissionChange=permission=>{setFormData(prev=>({...prev,permissions:prev.permissions.includes(permission)?prev.permissions.filter(p=>p!==permission):[...prev.permissions,permission]}));};const InputField=_ref2=>{let{icon:Icon,label,type,name,value,onChange,required}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:label}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Icon,{className:\"h-5 w-5 text-gray-400 dark:text-gray-500\"})}),/*#__PURE__*/_jsx(\"input\",{type:type,name:name,value:value,onChange:onChange,required:required,className:\"block w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 \\r rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\\r focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 \\r focus:border-transparent transition duration-200\\r placeholder-gray-400 dark:placeholder-gray-500\",placeholder:`Enter ${label.toLowerCase()}`})]})]});};const PermissionCard=_ref3=>{let{icon:Icon,label,description,checked,onChange}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex items-start p-4 rounded-lg border border-gray-200 dark:border-gray-700\\r bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 transition duration-150\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center h-5\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:checked,onChange:onChange,className:\"h-4 w-4 text-blue-600 dark:text-blue-400 border-gray-300 dark:border-gray-600 \\r rounded focus:ring-blue-500 dark:focus:ring-blue-400 transition duration-150\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3 flex items-center\",children:[/*#__PURE__*/_jsx(Icon,{className:\"h-5 w-5 text-gray-400 dark:text-gray-500 mr-3\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"font-medium text-gray-900 dark:text-gray-100\",children:label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 dark:text-gray-400\",children:description})]})]})]});};return/*#__PURE__*/_jsx(Modal,{isOpen:isOpen,onClose:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 bg-white dark:bg-gray-800 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-8 w-8 text-blue-500 dark:text-blue-400 mr-3\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 dark:text-white\",children:role?'Edit Role Details':'Create New Role'})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsx(InputField,{icon:ShieldCheckIcon,label:\"Role Name\",type:\"text\",name:\"name\",value:formData.name,onChange:e=>setFormData({...formData,name:e.target.value}),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 dark:text-gray-300\",children:\"Permissions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-4\",children:[/*#__PURE__*/_jsx(PermissionCard,{icon:DocumentTextIcon,label:\"Read\",description:\"View and access resources\",checked:formData.permissions.includes('read'),onChange:()=>handlePermissionChange('read')}),/*#__PURE__*/_jsx(PermissionCard,{icon:PencilSquareIcon,label:\"Write\",description:\"Create and modify resources\",checked:formData.permissions.includes('write'),onChange:()=>handlePermissionChange('write')}),/*#__PURE__*/_jsx(PermissionCard,{icon:TrashIcon,label:\"Delete\",description:\"Remove resources from the system\",checked:formData.permissions.includes('delete'),onChange:()=>handlePermissionChange('delete')})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 \\r bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 \\r rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 \\r focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400 \\r transition duration-200\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 text-sm font-medium text-white \\r bg-blue-600 dark:bg-blue-500 rounded-lg \\r hover:bg-blue-700 dark:hover:bg-blue-600 \\r focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 \\r transition duration-200\",children:role?'Update Role':'Create Role'})]})]})]})});};export default RoleModal;","map":{"version":3,"names":["React","useState","useEffect","Modal","UserGroupIcon","ShieldCheckIcon","PencilSquareIcon","TrashIcon","DocumentTextIcon","jsx","_jsx","jsxs","_jsxs","RoleModal","_ref","isOpen","onClose","role","onSave","formData","setFormData","name","permissions","handleSubmit","e","preventDefault","handlePermissionChange","permission","prev","includes","filter","p","InputField","_ref2","icon","Icon","label","type","value","onChange","required","className","children","placeholder","toLowerCase","PermissionCard","_ref3","description","checked","onSubmit","target","onClick"],"sources":["D:/Projects_2024/rbac-ui/src/components/roles/RoleModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Modal from '../common/Modal';\r\nimport { \r\n  UserGroupIcon, \r\n  ShieldCheckIcon, \r\n  PencilSquareIcon, \r\n  TrashIcon, \r\n  DocumentTextIcon \r\n} from '@heroicons/react/24/outline';\r\n\r\nconst RoleModal = ({ isOpen, onClose, role, onSave }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    permissions: []\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (role) {\r\n      setFormData(role);\r\n    } else {\r\n      setFormData({\r\n        name: '',\r\n        permissions: []\r\n      });\r\n    }\r\n  }, [role]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSave(formData);\r\n  };\r\n\r\n  const handlePermissionChange = (permission) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      permissions: prev.permissions.includes(permission)\r\n        ? prev.permissions.filter(p => p !== permission)\r\n        : [...prev.permissions, permission]\r\n    }));\r\n  };\r\n\r\n  const InputField = ({ icon: Icon, label, type, name, value, onChange, required }) => (\r\n    <div className=\"space-y-2\">\r\n      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n        {label}\r\n      </label>\r\n      <div className=\"relative rounded-lg\">\r\n        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n          <Icon className=\"h-5 w-5 text-gray-400 dark:text-gray-500\" />\r\n        </div>\r\n        <input\r\n          type={type}\r\n          name={name}\r\n          value={value}\r\n          onChange={onChange}\r\n          required={required}\r\n          className=\"block w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 \r\n                    rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white\r\n                    focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 \r\n                    focus:border-transparent transition duration-200\r\n                    placeholder-gray-400 dark:placeholder-gray-500\"\r\n          placeholder={`Enter ${label.toLowerCase()}`}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const PermissionCard = ({ icon: Icon, label, description, checked, onChange }) => (\r\n    <div className=\"relative flex items-start p-4 rounded-lg border border-gray-200 dark:border-gray-700\r\n                    bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-750 transition duration-150\">\r\n      <div className=\"flex items-center h-5\">\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={checked}\r\n          onChange={onChange}\r\n          className=\"h-4 w-4 text-blue-600 dark:text-blue-400 border-gray-300 dark:border-gray-600 \r\n                     rounded focus:ring-blue-500 dark:focus:ring-blue-400 transition duration-150\"\r\n        />\r\n      </div>\r\n      <div className=\"ml-3 flex items-center\">\r\n        <Icon className=\"h-5 w-5 text-gray-400 dark:text-gray-500 mr-3\" />\r\n        <div>\r\n          <label className=\"font-medium text-gray-900 dark:text-gray-100\">\r\n            {label}\r\n          </label>\r\n          <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n            {description}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n    >\r\n      <div className=\"p-6 bg-white dark:bg-gray-800 rounded-lg\">\r\n        <div className=\"flex items-center mb-6\">\r\n          <UserGroupIcon className=\"h-8 w-8 text-blue-500 dark:text-blue-400 mr-3\" />\r\n          <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\r\n            {role ? 'Edit Role Details' : 'Create New Role'}\r\n          </h2>\r\n        </div>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <InputField\r\n            icon={ShieldCheckIcon}\r\n            label=\"Role Name\"\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n            required\r\n          />\r\n\r\n          <div className=\"space-y-4\">\r\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300\">\r\n              Permissions\r\n            </label>\r\n            <div className=\"grid gap-4\">\r\n              <PermissionCard\r\n                icon={DocumentTextIcon}\r\n                label=\"Read\"\r\n                description=\"View and access resources\"\r\n                checked={formData.permissions.includes('read')}\r\n                onChange={() => handlePermissionChange('read')}\r\n              />\r\n              <PermissionCard\r\n                icon={PencilSquareIcon}\r\n                label=\"Write\"\r\n                description=\"Create and modify resources\"\r\n                checked={formData.permissions.includes('write')}\r\n                onChange={() => handlePermissionChange('write')}\r\n              />\r\n              <PermissionCard\r\n                icon={TrashIcon}\r\n                label=\"Delete\"\r\n                description=\"Remove resources from the system\"\r\n                checked={formData.permissions.includes('delete')}\r\n                onChange={() => handlePermissionChange('delete')}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex justify-end space-x-3 pt-6 border-t border-gray-200 dark:border-gray-700\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 \r\n                        bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 \r\n                        rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 \r\n                        focus:outline-none focus:ring-2 focus:ring-gray-500 dark:focus:ring-gray-400 \r\n                        transition duration-200\"\r\n            >\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"px-4 py-2 text-sm font-medium text-white \r\n                        bg-blue-600 dark:bg-blue-500 rounded-lg \r\n                        hover:bg-blue-700 dark:hover:bg-blue-600 \r\n                        focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 \r\n                        transition duration-200\"\r\n            >\r\n              {role ? 'Update Role' : 'Create Role'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default RoleModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}